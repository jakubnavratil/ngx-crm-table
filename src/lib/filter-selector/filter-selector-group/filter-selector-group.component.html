<div class="flex flex-col pl-4 border-l border-b border-dashed pb-2">
  <div class="flex flex-row bg-gray-100 px-2 py-2 pl-4 -ml-4 mb-2">
    <p-selectButton [options]="conditions" [(ngModel)]="selectedCondition" optionLabel="label" optionValue="value"
      class="mr-8">
    </p-selectButton>

    <div class="ml-auto">
      <button pButton icon="pi pi-times" class="p-button-danger p-button-text p-button-sm ml-3"
      (click)="remove.emit()"></button>
    </div>
  </div>

  <div class="flex flex-col space-y-2 mb-4">
    @for (item of items; track item) {
      @if (item.type === 'rule') {
        <ls-filter-selector-rule (remove)="removeItem(item)" [fields]="fields"
          [(ngModel)]="item.filter" (ngModelChange)="updateFilter()">
        </ls-filter-selector-rule>
      }
      @if (item.type === 'group') {
        <ls-filter-selector-group (remove)="removeItem(item)" [fields]="fields"
          [(ngModel)]="item.filter" (ngModelChange)="updateFilter()">
        </ls-filter-selector-group>
      }
    }
  </div>

  <div class="flex flex-row spacey-y-2">
    <button pButton pRipple class="p-button-sm p-button-text" label="Pravidlo" icon="pi pi-plus"
    (click)="addRule()"></button>
    <button pButton pRipple class="p-button-sm p-button-text" label="Podskupinu" icon="pi pi-plus-circle"
    (click)="addGroup()"></button>
  </div>
</div>
